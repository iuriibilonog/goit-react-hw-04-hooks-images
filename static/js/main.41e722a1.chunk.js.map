{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Error/ErrorView.module.css","components/Modal/Modal.module.css","components/Loader/Loader.module.css","App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Loader/Loader.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","img/error.gif","components/Error/ErrorView.jsx","components/Modal/Modal.jsx","App.js","services/api.js","index.js"],"names":["module","exports","Loading","className","s","loader","type","color","height","width","timeout","Searchbar","onSubmit","useState","inputValue","setInputValue","searchbar","searchForm","e","preventDefault","searchFormButton","buttonLabel","searchFormInput","autoComplete","autoFocus","placeholder","value","onChange","target","ImageGalleryItem","images","onModalshow","map","id","webformatURL","largeImageURL","imageGalleryItem","src","alt","imageGalleryItemImage","onClick","ImageGallery","imageGallery","Button","onLoadMore","button","ErrorView","errorImg","errorPic","errorDesc","Modal","toggleModal","largePic","useEffect","window","addEventListener","closeByEsc","removeEventListener","code","overlay","currentTarget","modal","App","setImages","query","setQuery","isLoading","setIsLoading","page","setPage","error","setError","status","setStatus","modalShow","setModalShow","largeImageUrl","setLargeImageUrl","isFirstRender","useRef","current","alert","getPictures","axios","get","params","key","image_type","orientation","safesearch","per_page","then","data","getDataServer","hits","length","prev","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","err","finally","app","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.41e722a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2kv5L\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__6f2hU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorImg\":\"ErrorView_errorImg__2nA5l\",\"errorDesc\":\"ErrorView_errorDesc__1shG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__12NNi\",\"modal\":\"Modal_modal__2rhTf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3gN0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3pUx0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3kqo-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3XlSX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3IJwF\",\"searchForm\":\"Searchbar_searchForm__3UsnT\",\"searchFormButton\":\"Searchbar_searchFormButton__26DIO\",\"buttonLabel\":\"Searchbar_buttonLabel__2NJTC\",\"searchFormInput\":\"Searchbar_searchFormInput__H-83-\"};","import Loader from \"react-loader-spinner\";\nimport s from './Loader.module.css';\n\nconst Loading = () => {\n  return (\n    <Loader className={s.loader}\n      type=\"Audio\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={5000}\n      \n      />\n  )\n}\n\nexport default Loading;\n","import { useState } from \"react\";\nimport s from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\n\nfunction Searchbar({ onSubmit}) {\n\n  const [inputValue, setInputValue] = useState('')\n\n  const handleOnChange = (e) => {\n    setInputValue(e.target.value)\n  }\n\n  const handleOnSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(inputValue)\n  }\n    \n\n  \n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={handleOnSubmit}>\n          <button type=\"submit\" className={s.searchFormButton}>\n      <span className={s.buttonLabel}>Search</span>\n    </button>\n\n    <input\n            className={s.searchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={inputValue}\n            onChange={handleOnChange}\n    />\n  </form>\n    </header>\n  )\n   }\n\n  \n\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired\n}\n  \n\nexport default Searchbar;","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ images, onModalshow}) => {\n\n\n  \n  return (\n    <>\n      {images.map(({id, webformatURL, largeImageURL}) => (<li key={id} className={s.imageGalleryItem}>\n      \n          <img src={webformatURL} alt=\"\" className={s.imageGalleryItemImage} onClick={() => onModalshow(largeImageURL)}/>\n      \n    </li>))}\n    \n  </>\n  )\n    \n    \n  \n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired\n    }).isRequired\n  ).isRequired,\n  onModalshow: PropTypes.func.isRequired\n}\n\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\n\nconst ImageGallery = ({ images, onModalshow }) => {\n\n\n  return (\n    <ul className={s.imageGallery}>\n      <ImageGalleryItem images={images} onModalshow={onModalshow}/>\n</ul>\n  )\n}\n\n\n\n\nexport default ImageGallery;","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ onLoadMore}) => {\n\n  \n  return (\n    <button onClick={ onLoadMore} className={s.button} type=\"button\">Load More</button>\n  )\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired\n}\n\n\nexport default Button;","export default __webpack_public_path__ + \"static/media/error.25590e76.gif\";","import errorPic from '../../img/error.gif';\nimport s from './ErrorView.module.css';\n\nconst ErrorView = () => {\n  return (\n    <>\n      <img className={s.errorImg} src={errorPic} alt=\"\" />\n      <p className={s.errorDesc}>Извините, по Вашему запросу ничего не найдено! Попробуйте изменить запрос.</p>\n    </>  \n  )\n}\n\nexport default ErrorView;","import { useEffect } from 'react';\nimport s from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Modal({toggleModal, largePic}) {\n\n\n  useEffect(() => {\n    window.addEventListener('keydown', closeByEsc)\n    \n    return () => {\n      window.removeEventListener('keydown', closeByEsc)\n    }\n  })\n\n  \n\n  const closeByEsc = (e) => {\n    if (e.code === 'Escape') toggleModal();\n  }\n\n  const closeByClickOnOverlay = (e) => {\n    if (e.target === e.currentTarget) toggleModal();  \n  }\n\n  \n  return (\n    <div className={s.overlay} onClick={closeByClickOnOverlay}>\n      <div className={s.modal}>\n\n        <img src={largePic} alt={largePic} />\n       \n  </div>\n</div>\n  )\n  }\n  \n\n\nModal.propTypes = {\n    largePic: PropTypes.string.isRequired,\n    toggleModal: PropTypes.func.isRequired\n  }\n\nexport default Modal;","import { useEffect, useState, useRef } from \"react\";\nimport Loading from \"./components/Loader\";\nimport s from \"./App.module.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport ErrorView from \"./components/Error/ErrorView\";\nimport Modal from \"./components/Modal\";\nimport { getDataServer } from \"./services/api\";\n\nfunction App() {\n  const [images, setImages] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(null);\n  const [modalShow, setModalShow] = useState(false);\n  const [largeImageUrl, setLargeImageUrl] = useState(\"\");\n\n  const isFirstRender = useRef(true);\n\n  useEffect(() => {\n    if ((query === \"\") & isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n    if ((query === \"\") & !isFirstRender.current) {\n      return alert(\"Введите ключевое слово для поиска!)\");\n    }\n    getPictures();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, page]);\n\n  const getQueryFromInput = (query) => {\n    setQuery(query);\n    setPage(1);\n    setImages([]);\n  };\n\n  const getPictures = () => {\n    setStatus(null);\n    setIsLoading(true);\n\n    getDataServer(query, page)\n      .then((data) => {\n        data.hits.length === 0\n          ? setStatus(\"error\")\n          : setImages((prev) => [...prev, ...data.hits]);\n\n        if (page > 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((err) => setError(err))\n      .finally(() => setIsLoading(false));\n  };\n\n  const handleChangePage = () => {\n    setPage((prev) => prev + 1);\n  };\n\n  const toggleModal = () => {\n    setModalShow(!modalShow);\n  };\n\n  const getItemfromClick = (largeImageUrl) => {\n    setLargeImageUrl(largeImageUrl);\n    toggleModal();\n  };\n\n  return (\n    <div className={s.app}>\n      <Searchbar onSubmit={getQueryFromInput} />\n\n      {status === \"error\" && <ErrorView />}\n\n      {error && <h1>{error.message}</h1>}\n\n      <ImageGallery images={images} onModalshow={getItemfromClick} />\n\n      {isLoading && <Loading />}\n\n      {images.length >= 12 && !isLoading && (\n        <Button onLoadMore={handleChangePage} />\n      )}\n\n      {modalShow && (\n        <Modal largePic={largeImageUrl} toggleModal={toggleModal} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import axios from \"axios\";\n\nexport function getDataServer(query, page) {\n  const searchParams = {\n    key: \"23766907-8949d781ce5b5ece952eeda6b\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n    per_page: 12,\n  };\n\n  const response = axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}`,\n    { params: searchParams }\n  );\n\n  return response.then(({ data }) => data);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}